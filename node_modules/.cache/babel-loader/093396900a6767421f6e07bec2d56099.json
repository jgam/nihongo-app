{"ast":null,"code":"var _jsxFileName = \"/Users/jeonghan.gam/Desktop/jgam/nihongo-app/src/Vocab.js\";\nimport React from 'react';\nimport { tsConstructorType } from '@babel/types';\nimport Button from 'react-bootstrap/Button';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport { deflateRawSync } from 'zlib';\n\nconst Vocab = ({\n  output_words,\n  handleButton,\n  prevButton,\n  nextButton,\n  list_words,\n  vocab_portion,\n  day,\n  handleHome,\n  updateDB\n}) => {\n  var request = indexedDB.open('VocabDB', 1);\n  var db, vocabs_db, testing_vocabs;\n  /*\n  Now, we write these words to database and use the data to randomly create the test.\n  */\n\n  console.log('initial outputwords are: ', output_words); //request on success\n\n  request.onsuccess = function (event) {\n    console.log('[onsuccess]', request.result);\n    vocabs_db = testing_vocabs; //now we are renewing the new vocabs to database\n    //words is changed to testing_vocabs\n\n    output_words = testing_vocabs; //words didn't change.\n\n    console.log('after modified outputwords : ', output_words);\n    /*\n    some tips how to CRUD the data\n    // count number of objects in store\n    productsStore.count().onsuccess = function(event) {\n        console.log('[Transaction - COUNT] number of products in store', event.target.result);\n    };\n     // get product with id 1\n    productsStore.get(1).onsuccess = function(event) {\n        console.log('[Transaction - GET] product with id 1', event.target.result);\n    };\n     // update product with id 1\n    products[0].name = 'Blue Men T-shirt';\n    productsStore.put(products[0]).onsuccess = function(event) {\n        console.log('[Transaction - PUT] product with id 1', event.target.result);\n    };\n     // delete product with id 2\n    productsStore.delete(2).onsuccess = function(event) {\n        console.log('[Transaction - DELETE] deleted with id 2');\n    };\n    */\n  }; //request on error\n\n\n  request.onerror = function (event) {\n    console.log('[onerror]', request.error);\n  }; //request on upgrade needed \n\n\n  request.onupgradeneeded = function (event) {\n    // create object store from db or event.target.result\n    var db = event.target.result; //here crated Objectstore\n\n    var productsStore = db.createObjectStore('VocabDB', {\n      keyPath: 'index'\n    });\n    console.log('alelalelael'); //vocab DB data should be defined here\n\n    var vocabs_db = output_words;\n    testing_vocabs = [];\n    var random_i = 10; //taking out 1 vocab for every 10 vocabs\n\n    while (random_i < vocabs_db.length - 10) {\n      //this done\n      console.log('while loop random_i = ', random_i);\n      testing_vocabs.push(vocabs_db[random_i - Math.floor(Math.random() * 10)]);\n      random_i += 10;\n    }\n\n    db = event.target.result; // === request.result\n\n    var transaction = db.transaction('VocabDB', 'readwrite'); //success event handler for transaction\n\n    transaction.onsuccess = function (event) {\n      console.log('[transaction] ALL DONE!');\n    };\n\n    var productsStore = transaction.objectStore('VocabDB');\n    vocabs_db.forEach(function (product) {\n      productsStore.add(product); //IDBRequest\n    });\n  };\n\n  console.log('outputwords are : ', output_words); //how do we await for output_words to be implemented first\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n    integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n    crossOrigin: \"anonymous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(ButtonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: () => handleHome(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \" home \")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => prevButton(day - 1, list_words.slice(vocab_portion * (day - 2), vocab_portion * (day - 1)), list_words, vocab_portion),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Previous\"), React.createElement(\"button\", {\n    onClick: () => nextButton(day + 1, list_words.slice(vocab_portion * day, vocab_portion * (day + 1)), list_words, vocab_portion),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Next\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => updateDB(output_words),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \" Exam! \"), output_words.map(word => React.createElement(\"div\", {\n    className: \"word\",\n    key: word.word,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, word.word, \" : \", word.meaning)));\n};\n\nexport default Vocab;","map":{"version":3,"sources":["/Users/jeonghan.gam/Desktop/jgam/nihongo-app/src/Vocab.js"],"names":["React","tsConstructorType","Button","ButtonToolbar","deflateRawSync","Vocab","output_words","handleButton","prevButton","nextButton","list_words","vocab_portion","day","handleHome","updateDB","request","indexedDB","open","db","vocabs_db","testing_vocabs","console","log","onsuccess","event","result","onerror","error","onupgradeneeded","target","productsStore","createObjectStore","keyPath","random_i","length","push","Math","floor","random","transaction","objectStore","forEach","product","add","slice","map","word","meaning"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { tsConstructorType } from '@babel/types';\nimport Button from 'react-bootstrap/Button'\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar'\nimport { deflateRawSync } from 'zlib';\n\nconst Vocab = ({ output_words, handleButton, prevButton, nextButton, list_words, vocab_portion, day, handleHome, updateDB }) => {\n    var request = indexedDB.open('VocabDB', 1);\n    var db, vocabs_db,testing_vocabs;\n    /*\n    Now, we write these words to database and use the data to randomly create the test.\n    */\n   console.log('initial outputwords are: ', output_words);\n    \n    //request on success\n    request.onsuccess = function(event) {\n        console.log('[onsuccess]', request.result);\n\n        \n        \n\n        \n        vocabs_db = testing_vocabs;//now we are renewing the new vocabs to database\n        //words is changed to testing_vocabs\n        output_words = testing_vocabs;//words didn't change.\n        console.log('after modified outputwords : ',output_words);\n\n        \n        /*\n        some tips how to CRUD the data\n        // count number of objects in store\n        productsStore.count().onsuccess = function(event) {\n            console.log('[Transaction - COUNT] number of products in store', event.target.result);\n        };\n\n        // get product with id 1\n        productsStore.get(1).onsuccess = function(event) {\n            console.log('[Transaction - GET] product with id 1', event.target.result);\n        };\n\n        // update product with id 1\n        products[0].name = 'Blue Men T-shirt';\n        productsStore.put(products[0]).onsuccess = function(event) {\n            console.log('[Transaction - PUT] product with id 1', event.target.result);\n        };\n\n        // delete product with id 2\n        productsStore.delete(2).onsuccess = function(event) {\n            console.log('[Transaction - DELETE] deleted with id 2');\n        };\n        */\n    };\n\n    //request on error\n    request.onerror = function(event) {\n        console.log('[onerror]', request.error);\n    };\n\n    //request on upgrade needed \n    request.onupgradeneeded = function(event) {\n        // create object store from db or event.target.result\n\n        var db = event.target.result;\n        //here crated Objectstore\n        var productsStore = db.createObjectStore('VocabDB', {keyPath: 'index'});\n        console.log('alelalelael');\n\n        //vocab DB data should be defined here\n        var vocabs_db = output_words;\n\n        testing_vocabs = [];\n        var random_i = 10;\n        //taking out 1 vocab for every 10 vocabs\n        while(random_i < vocabs_db.length - 10){\n            //this done\n            console.log('while loop random_i = ', random_i);\n            testing_vocabs.push(vocabs_db[random_i - Math.floor(Math.random() * 10)]);\n            random_i += 10;\n        }\n\n        db = event.target.result; // === request.result\n        \n        var transaction = db.transaction('VocabDB', 'readwrite');\n\n        //success event handler for transaction\n        transaction.onsuccess = function(event){\n            console.log('[transaction] ALL DONE!')\n        }\n\n        var productsStore = transaction.objectStore('VocabDB');\n\n        vocabs_db.forEach(function(product){\n            productsStore.add(product);//IDBRequest\n        });\n    };\n    console.log('outputwords are : ', output_words);\n\n\n    //how do we await for output_words to be implemented first\n    return (\n\t  <div>\n        <link\n                rel=\"stylesheet\"\n                href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n                integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n                crossOrigin=\"anonymous\"\n            />\n        <ButtonToolbar>\n            <Button onClick={()=> handleHome()}> home </Button>\n        </ButtonToolbar>\n\t\t{/*<button onClick={() => handleButton(output_words.slice(0, 19))}>Home</button>*/}\n        <br></br>\n\t\t<button onClick={() => prevButton(day-1,list_words.slice(vocab_portion*(day-2), vocab_portion*(day-1)),list_words,vocab_portion)}>Previous</button>\n        <button onClick={() => nextButton(day+1,list_words.slice(vocab_portion*(day), vocab_portion*(day+1)),list_words,vocab_portion)}>Next</button>\n        <br></br>\n        <button onClick={()=> updateDB(output_words)}> Exam! </button>\n        {/*{JSON.stringify(output_words)}*/}\n        {/*{output_words.map((item) => <li>{item}</li>)}*/}\n        {output_words.map(word => (\n            <div className=\"word\" key={word.word}>{word.word} : {word.meaning}</div>\n        ))}\n\t  </div>\n\t);\n  };\n  \n  export default Vocab;"]},"metadata":{},"sourceType":"module"}