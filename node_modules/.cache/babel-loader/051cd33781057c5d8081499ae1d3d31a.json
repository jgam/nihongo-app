{"ast":null,"code":"module.exports = function (e) {\n  var n = {};\n\n  function t(r) {\n    if (n[r]) return n[r].exports;\n    var o = n[r] = {\n      i: r,\n      l: !1,\n      exports: {}\n    };\n    return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n  }\n\n  return t.m = e, t.c = n, t.d = function (e, n, r) {\n    t.o(e, n) || Object.defineProperty(e, n, {\n      enumerable: !0,\n      get: r\n    });\n  }, t.r = function (e) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, t.t = function (e, n) {\n    if (1 & n && (e = t(e)), 8 & n) return e;\n    if (4 & n && \"object\" == typeof e && e && e.__esModule) return e;\n    var r = Object.create(null);\n    if (t.r(r), Object.defineProperty(r, \"default\", {\n      enumerable: !0,\n      value: e\n    }), 2 & n && \"string\" != typeof e) for (var o in e) t.d(r, o, function (n) {\n      return e[n];\n    }.bind(null, o));\n    return r;\n  }, t.n = function (e) {\n    var n = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return t.d(n, \"a\", n), n;\n  }, t.o = function (e, n) {\n    return Object.prototype.hasOwnProperty.call(e, n);\n  }, t.p = \"\", t(t.s = 1);\n}([function (e, n, t) {\n  \"use strict\";\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  });\n  var r,\n      o = t(4),\n      a = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n\n  function i(e, n, t) {\n    return new Promise(function (r, o) {\n      var i,\n          c = a.open(e, n);\n      c.onsuccess = function (e) {\n        i = c.result, r(i);\n      }, c.onerror = function (e) {\n        o(\"IndexedDB error: \" + c.error);\n      }, \"function\" == typeof t && (c.onupgradeneeded = function (e) {\n        console.log(\"checkout\"), t(e, i);\n      });\n    });\n  }\n\n  n.openDatabase = i, n.CreateObjectStore = function (e, n, t) {\n    var r = a.open(e, n);\n    r.onupgradeneeded = function (e) {\n      var n = e.target.result;\n      t.forEach(function (e) {\n        if (!n.objectStoreNames.contains(e.store)) {\n          var t = n.createObjectStore(e.store, e.storeConfig);\n          e.storeSchema.forEach(function (e) {\n            t.createIndex(e.name, e.keypath, e.options);\n          });\n        }\n      }), n.close();\n    }, r.onsuccess = function (e) {\n      e.target.result.close();\n    };\n  }, n.DBOperations = function (e, n, t) {\n    return {\n      add: function (a, c) {\n        return new Promise(function (u, s) {\n          i(e, n).then(function (e) {\n            o.createTransaction(e, o.optionsGenerator(r.readwrite, t, s, u)).objectStore(t).add(a, c).onsuccess = function (e) {\n              c = e.target.result, u(c);\n            };\n          });\n        });\n      },\n      getByID: function (a) {\n        return new Promise(function (c, u) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, u), o.createTransaction(e, o.optionsGenerator(r.readonly, t, u, c)).objectStore(t).get(+a).onsuccess = function (e) {\n              c(e.target.result);\n            };\n          });\n        });\n      },\n      getAll: function () {\n        return new Promise(function (a, c) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, c);\n            var n = o.createTransaction(e, o.optionsGenerator(r.readonly, t, c, a)).objectStore(t).getAll();\n            n.onerror = function (e) {\n              c(e);\n            }, n.onsuccess = function (e) {\n              var n = e.target.result;\n              a(n);\n            };\n          });\n        });\n      },\n      update: function (a, c) {\n        return new Promise(function (u, s) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, s);\n            var n = o.createTransaction(e, o.optionsGenerator(r.readwrite, t, s, u)),\n                i = n.objectStore(t);\n            n.oncomplete = function (e) {\n              u(e);\n            }, i.put(a, c);\n          });\n        });\n      },\n      deleteRecord: function (a) {\n        return new Promise(function (c, u) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, u), o.createTransaction(e, o.optionsGenerator(r.readwrite, t, u, c)).objectStore(t).delete(a).onsuccess = function (e) {\n              c(e);\n            };\n          });\n        });\n      },\n      clear: function () {\n        return new Promise(function (a, c) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, c);\n            var n = o.createTransaction(e, o.optionsGenerator(r.readwrite, t, c, a));\n            n.objectStore(t).clear(), n.oncomplete = function (e) {\n              a();\n            };\n          });\n        });\n      },\n      openCursor: function (a, c) {\n        return new Promise(function (u, s) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, s), o.createTransaction(e, o.optionsGenerator(r.readonly, t, s, u)).objectStore(t).openCursor(c).onsuccess = function (e) {\n              a(e), u();\n            };\n          });\n        });\n      },\n      getByIndex: function (a, c) {\n        return new Promise(function (u, s) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, s), o.createTransaction(e, o.optionsGenerator(r.readonly, t, s, u)).objectStore(t).index(a).get(c).onsuccess = function (e) {\n              u(e.target.result);\n            };\n          });\n        });\n      }\n    };\n  }, function (e) {\n    e.readonly = \"readonly\", e.readwrite = \"readwrite\";\n  }(r = n.DBMode || (n.DBMode = {}));\n}, function (e, n, t) {\n  \"use strict\";\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  });\n  var r = t(2);\n  n.AccessDB = r.AccessDB, n.IndexedDB = r.IndexedDB, function (e) {\n    for (var t in e) n.hasOwnProperty(t) || (n[t] = e[t]);\n  }(t(5));\n}, function (e, n, t) {\n  \"use strict\";\n\n  var r = this && this.__assign || function () {\n    return (r = Object.assign || function (e) {\n      for (var n, t = 1, r = arguments.length; t < r; t++) for (var o in n = arguments[t]) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n\n      return e;\n    }).apply(this, arguments);\n  },\n      o = this && this.__awaiter || function (e, n, t, r) {\n    return new (t || (t = Promise))(function (o, a) {\n      function i(e) {\n        try {\n          u(r.next(e));\n        } catch (e) {\n          a(e);\n        }\n      }\n\n      function c(e) {\n        try {\n          u(r.throw(e));\n        } catch (e) {\n          a(e);\n        }\n      }\n\n      function u(e) {\n        e.done ? o(e.value) : new t(function (n) {\n          n(e.value);\n        }).then(i, c);\n      }\n\n      u((r = r.apply(e, n || [])).next());\n    });\n  },\n      a = this && this.__generator || function (e, n) {\n    var t,\n        r,\n        o,\n        a,\n        i = {\n      label: 0,\n      sent: function () {\n        if (1 & o[0]) throw o[1];\n        return o[1];\n      },\n      trys: [],\n      ops: []\n    };\n    return a = {\n      next: c(0),\n      throw: c(1),\n      return: c(2)\n    }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n      return this;\n    }), a;\n\n    function c(a) {\n      return function (c) {\n        return function (a) {\n          if (t) throw new TypeError(\"Generator is already executing.\");\n\n          for (; i;) try {\n            if (t = 1, r && (o = 2 & a[0] ? r.return : a[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, a[1])).done) return o;\n\n            switch (r = 0, o && (a = [2 & a[0], o.value]), a[0]) {\n              case 0:\n              case 1:\n                o = a;\n                break;\n\n              case 4:\n                return i.label++, {\n                  value: a[1],\n                  done: !1\n                };\n\n              case 5:\n                i.label++, r = a[1], a = [0];\n                continue;\n\n              case 7:\n                a = i.ops.pop(), i.trys.pop();\n                continue;\n\n              default:\n                if (!(o = (o = i.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {\n                  i = 0;\n                  continue;\n                }\n\n                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {\n                  i.label = a[1];\n                  break;\n                }\n\n                if (6 === a[0] && i.label < o[1]) {\n                  i.label = o[1], o = a;\n                  break;\n                }\n\n                if (o && i.label < o[2]) {\n                  i.label = o[2], i.ops.push(a);\n                  break;\n                }\n\n                o[2] && i.ops.pop(), i.trys.pop();\n                continue;\n            }\n\n            a = n.call(e, i);\n          } catch (e) {\n            a = [6, e], r = 0;\n          } finally {\n            t = o = 0;\n          }\n\n          if (5 & a[0]) throw a[1];\n          return {\n            value: a[0] ? a[1] : void 0,\n            done: !0\n          };\n        }([a, c]);\n      };\n    }\n  },\n      i = this && this.__importDefault || function (e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  };\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  });\n  var c = i(t(3)),\n      u = t(0),\n      s = c.default.createContext({\n    db: null,\n    name: null,\n    version: null\n  }),\n      f = s.Provider,\n      l = s.Consumer;\n  n.IndexedDB = function (e) {\n    var n = this,\n        t = e.name,\n        r = e.version,\n        i = e.children;\n    return e.objectStoresMeta.forEach(function (e) {\n      return o(n, void 0, void 0, function () {\n        return a(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, u.openDatabase(t, r, function (n) {\n                var t = n.currentTarget.result.createObjectStore(e.store, e.storeConfig);\n                e.storeSchema.forEach(function (e) {\n                  t.createIndex(e.name, e.keypath, e.options);\n                });\n              })];\n\n            case 1:\n              return n.sent(), [2];\n          }\n        });\n      });\n    }), c.default.createElement(f, {\n      value: {\n        db: null,\n        name: t,\n        version: r\n      }\n    }, i);\n  }, n.AccessDB = function (e) {\n    var n = e.children,\n        t = e.objectStore;\n    return c.default.createElement(l, null, function (e) {\n      var o = e.db,\n          a = e.name,\n          i = e.version;\n      return n(r({\n        db: o\n      }, u.DBOperations(a, i, t)));\n    });\n  };\n}, function (e, n) {\n  e.exports = require(\"react\");\n}, function (e, n, t) {\n  \"use strict\";\n\n  function r(e, n) {\n    return e.objectStoreNames.contains(n);\n  }\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  }), n.validateStoreName = r, n.validateBeforeTransaction = function (e, n, t) {\n    e || t(\"You need to use the openDatabase function to create a database before you query it!\"), r(e, n) || t(\"objectStore does not exists: \" + n);\n  }, n.createTransaction = function (e, n) {\n    var t = e.transaction(n.storeName, n.dbMode);\n    return t.onerror = n.error, t.oncomplete = n.complete, t.onabort = n.abort, t;\n  }, n.optionsGenerator = function (e, n, t, r) {\n    return {\n      storeName: n,\n      dbMode: e,\n      error: function (e) {\n        t(e);\n      },\n      complete: function (e) {\n        r();\n      },\n      abort: function (e) {\n        t(e);\n      }\n    };\n  };\n}, function (e, n, t) {\n  \"use strict\";\n\n  var r = this && this.__assign || function () {\n    return (r = Object.assign || function (e) {\n      for (var n, t = 1, r = arguments.length; t < r; t++) for (var o in n = arguments[t]) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n\n      return e;\n    }).apply(this, arguments);\n  };\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  });\n  var o = t(0),\n      a = {\n    version: null,\n    name: null\n  };\n  n.initDB = function (e) {\n    var n = e.name,\n        t = e.version,\n        r = e.objectStoresMeta;\n    a.name = n, a.version = t, Object.freeze(a), o.CreateObjectStore(n, t, r);\n  }, n.useIndexedDB = function (e) {\n    if (!a.name || !a.version) throw new Error(\"Please, initialize the DB before the use.\");\n    return r({}, o.DBOperations(a.name, a.version, e));\n  };\n}]);","map":null,"metadata":{},"sourceType":"script"}